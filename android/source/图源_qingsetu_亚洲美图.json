{
	"id": "qingsetu",
	"title": "亚洲美图",
	"href": "http://qingsetu120.xyz",
	"isAdult": true,
	"type": "comic",
	"request": {
		"getTypeList": {
			"label": "分类列表",
			"value": "function (context, params) {return new Promise(resolve => {const {baseUrl,source} = params;const {http,ERR_OK,ERR_FALSE,replaceHTML} = context;http.get(baseUrl, {headers: {Referer: baseUrl,'user-agent': 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/78.0.3904.108 Safari/537.36'}}).then((res) => {let str = replaceHTML(res.data);let lis = str.match(/<ul[^>]*class=([""]?)qr-nav\1[^>]*>*([\s\S]*?)<\/ul>/)[0].match(/<li[^>]*>*([\s\S]*?)<\/li>/ig);let list = [];if (lis) {lis.forEach((li, key) => {if ( key > 0 ) {list.push({label: li.match(/<a[^>]*>*([\s\S]*?)<\/a>/)[1],value: li.match(/href=\"*([\s\S]*?)\"/)[1].match(/type\/*([\s\S]*?)\//)[1],source: source});}})}resolve({code: ERR_OK,data: {list: list,source: source}})}).catch((err) => {resolve({code: ERR_FALSE,data: {list: [],source: source}})})})}"
		},
		"getTypeDetail": {
			"label": "分类详情",
			"value": "function (context, params) {return new Promise(resolve => {const {baseUrl,source} = params;const {http,ERR_OK,ERR_FALSE,Book,replaceHTML,htmlDecodeByRegExp} = context;http.get(baseUrl + '/?s=pic/type/' + params.id + '/' + params.page + '.html', {headers: {Referer: baseUrl,'user-agent': 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/78.0.3904.108 Safari/537.36'}}).then(res => {let str = replaceHTML(res.data);let list = [];let lis = str.match(/<div[^>]*class=([""]?)video-list-title-top layui-hide-sm layui-col-xs12\1[^>]*>*([\s\S]*?)<div[^>]*class=([""]?)(video-item|qr-block qr-block-white)\1[^>]*>/ig);if (lis) {lis.forEach(li => {list.push(new Book({bookId: li.match(/href=\"*([\s\S]*?)\"/)[1].match(/id\/*([\s\S]*?).html/)[1],title: li.match(/<p[^>]*>*([\s\S]*?)<\/p>/)[1],cover: li.match(/src=\"*([\s\S]*?)\"/)[1],style: li.match(/<span[^>]*>*([\s\S]*?)<\/span>/)[1],updateTime: li.match(/<div[^>]*class=([""]?)layui-col-xs6\1[^>]*>*([\s\S]*?)<\/div>/ig)[1].match(/<div[^>]*>*([\s\S]*?)<\/div>/)[1],isEnd: true,isAdult: true,type: 'comic',source: source}))})}resolve({code: ERR_OK,data: {list: list,isLastPage: list.length < 24,currentPage: params.page,source: source}})}).catch(() => {resolve({code: ERR_FALSE,data: {list: [],isLastPage: false,currentPage: params.page - 1,source: source}})})})}"
		},
		"getDetail": {
			"label": "书籍详情",
			"value": "function (context, params) {return new Promise(resolve => {const {baseUrl,source} = params;const {http,ERR_OK,ERR_FALSE,replaceHTML,getTag,Chapter,Book,} = context;http.get(baseUrl + '/?s=pic/view/id/' + params.id + '.html', {headers: {Referer: baseUrl,'user-agent': 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/78.0.3904.108 Safari/537.36'}}).then(async (res) => {let str = replaceHTML(res.data);let title = str.match(/<center[^>]*>*([\s\S]*?)<\/center>/)[0].match(/<h1[^>]*>*([\s\S]*?)<\/h1>/)[1];let tag = getTag(source, title);let guess = [];let sames = [];let lis = str.match(/<div[^>]*class=([""]?)video-list-title-top layui-hide-sm layui-col-xs12\1[^>]*>*([\s\S]*?)(<div[^>]*class=([""]?)video-item\1[^>]*>|<script>)/ig);if (lis) {lis.forEach((li, key) => {let book = new Book({bookId: li.match(/href=\"*([\s\S]*?)\"/)[1].match(/id\/*([\s\S]*?).html/)[1],title: li.match(/<p[^>]*>*([\s\S]*?)<\/p>/)[1],cover: li.match(/src=\"*([\s\S]*?)\"/)[1],style: li.match(/<span[^>]*>*([\s\S]*?)<\/span>/)[1],updateTime: li.match(/<div[^>]*class=([""]?)layui-col-xs6\1[^>]*>*([\s\S]*?)<\/div>/ig)[1].match(/<div[^>]*>*([\s\S]*?)<\/div>/)[1],isEnd: true,isAdult: true,type: 'comic',source: source});key < 4 ? guess.push(book) : sames.push(book);})}let chapters = await http.get('https://www.cmsapitpmt.com/pic.php/', {params: {a_id: params.id}}).then(res => {let rstr = replaceHTML(res.data);let imgs = rstr.match(/<img[^>]*>/ig);let content = [];if (imgs) {imgs.forEach(img => {content.push(img.match(/src=\"*([\s\S]*?)\"/)[1])})}return [new Chapter({id: 'qingsetu_' + source,title: '全本' + '（' + content.length + 'P）',chapter: 1,isStart: true,isEnd: true,content: content})]});resolve({code: ERR_OK,data: {bookInfo: {title: title,tag: tag,isEnd: true},chapters: chapters,guess: guess,sames: sames,source: source}})}).catch((err) => {resolve({code: ERR_FALSE,data: {bookInfo: {},source: source}})})})}"
		}
	}
}